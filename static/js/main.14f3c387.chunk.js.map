{"version":3,"sources":["components/Table/index.js","App.js","index.js"],"names":["TaskTable","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getClassName","task","student","taskStatus","tasks","taskName","mark","toLowerCase","_this2","react_default","a","createElement","className","students","map","key","gitHubName","href","gitHubLink","taskLink","Component","App","handleUserData","data","userName","login","userAvatar","avatar_url","localStorage","setItem","setState","handleChange","selectedMentor","value","gatekeeperUrl","clientId","mentorsList","keys","dataFile","mentors","options","label","state","getItem","isLoading","isCode","window","location","match","token","axios","get","concat","accessToken","userData","console","error","_context","t0","_this$state","react_select_esm","onChange","src","alt","url","split","pop","Table_TaskTable","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.14f3c387.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\nexport default class TaskTable extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// this.students = props.students;\r\n\t\tthis.tasks = props.tasks;\r\n\t}\r\n\r\n\tgetClassName = (task, student) => {\r\n\t\tswitch(task.taskStatus) {\r\n\t\t\tcase 'Checked' :\r\n\t\t\treturn !student.tasks[task.taskName] || student.tasks[task.taskName].mark === 0 ? 'no_work' : 'checked';\r\n\t\t\tcase 'Checking' : \r\n\t\t\treturn student.tasks[task.taskName] && student.tasks[task.taskName].mark > 0 ? 'checked' : task.taskStatus.toLowerCase();\r\n\t\t\tcase 'In Progress' :\r\n\t\t\treturn student.tasks[task.taskName] && student.tasks[task.taskName].mark > 0 ? 'checked' : 'in_progress';\r\n\t\t\tcase 'ToDo' :\r\n\t\t\treturn task.taskStatus.toLowerCase();\r\n\t\t\tdefault :\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n  render() {\r\n    return (\r\n\t\t\t<table>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th className='first_col'>Tasks / Student</th>\r\n\t\t\t\t\t\t{this.props.students.map((student) => <th key={student.gitHubName}><a href={student.gitHubLink}>{student.gitHubName}</a></th>)}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{this.tasks.map((task) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={task.taskName}>\r\n\t\t\t\t\t\t<td className='first_col'><a href={task.taskLink}>{task.taskName}</a></td>\r\n\t\t\t\t\t\t{this.props.students.map((student) => {\r\n\t\t\t\t\t\t\t// console.log(student.tasks[task.taskName].mark)\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<td key={task.taskName + student.gitHubName} className={this.getClassName(task, student)}></td>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>)})}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t)\r\n  }\r\n}","import React, { Component } from 'react';\nimport axios from 'axios';\nimport dataFile from './data/data.json';\nimport Select from 'react-select';\nimport TaskTable from './components/Table/index';\nimport './style.css'\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.gatekeeperUrl = 'https://gh-login.herokuapp.com';\n    this.clientId = 'd79d55c75267a0795fb8';\n    this.mentorsList = Object.keys(dataFile.mentors);\n    this.options = this.mentorsList.map((gitHubName) => ({value : gitHubName, label : gitHubName}));\n    this.state = {\n      selectedMentor: localStorage.getItem('mentor') ? {value : localStorage.getItem('mentor'), label : localStorage.getItem('mentor')} : null,\n      data: null,\n      isLoading: false\n    }\n  }\n  \n  async componentDidMount() {\n    const isCode = window.location.href.match(/\\?code=(.*)/);\n    if(!isCode) return;\n\n    const token = isCode[1];\n    this.setState({isLoading: true})\n\n    try {\n      const accessToken = await axios.get(`${this.gatekeeperUrl}/authenticate/` + token)\n      const userData = await axios.get('https://api.github.com/user?access_token=' + accessToken.data.token)\n      this.handleUserData(userData)\n    } catch(e) {\n      console.error(e)\n    }\n\n    this.setState({isLoading: false})\n  }\n\n  handleUserData = (data) => {\n    const userName = data.login;\n    const userAvatar = data.avatar_url;\n    localStorage.setItem('mentor', userName);\n    this.setState({data: userAvatar})\n  }\n\n  handleChange = (selectedMentor) => {\n    this.setState({ selectedMentor });\n    localStorage.setItem('mentor', selectedMentor.value);\n  }\n\n  render() {\n    const { selectedMentor, data, isLoading } = this.state;\n\n    return (\n      <div className='app'>\n        <header>\n          <Select\n            className='selector'\n            value={selectedMentor}\n            onChange={this.handleChange}\n            options={this.options}\n          />\n          <div className='avatar'>\n            { data && <img src={data.avatar_url} alt='user_avatar'/> }   \n            <p>{ data && data.url.split('/').pop()}</p>                       \n          </div>\n          <a href={`https://github.com/login/oauth/authorize?scope=user:email&client_id=${this.clientId}`}>LogIn GitHub</a>\n        </header>\n        <main>\n          { selectedMentor && dataFile.mentors[selectedMentor.value] &&\n            <TaskTable \n              tasks={dataFile.tasks}\n              students={dataFile.mentors[selectedMentor.value].students}\n          />}\n          { selectedMentor && !dataFile.mentors[selectedMentor.value] &&\n            <h2 className='apology'>Sorry, you are not a RSS mentor yet!</h2>\n          }\n          { isLoading &&\n            <div className='loader'><span>Loading...</span></div>\n          } \n        </main>               \n      </div>      \n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}